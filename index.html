async function runCoach() {
    document.getElementById('start-btn').style.display = 'none';
    const status = document.getElementById('status');
    status.innerText = "LOADING AI...";
    
    try {
        const classifier = new EdgeImpulseClassifier();
        await classifier.init();
        const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
        document.getElementById('webcam').srcObject = stream;
        status.innerText = "WATCHING...";

        setInterval(async () => {
            const res = await classifier.classify(document.getElementById('webcam'));
            const top = res.results.reduce((a, b) => a.value > b.value ? a : b);
            
            // This part handles the "Right/Wrong" signals
            status.innerText = top.label.toUpperCase();
            
            if(top.label.toLowerCase().includes("incorrect") && top.value > 0.7) {
                status.style.background = "#ff3b30"; // Red for Wrong
                playBuzzer(); // This triggers the loud signal
            } else if(top.label.toLowerCase().includes("correct")) {
                status.style.background = "#28a745"; // Green for Right
            } else {
                status.style.background = "#222";
            }
        }, 400); // Checks every 0.4 seconds
    } catch (e) {
        status.innerText = "ERROR: RELOAD PAGE";
    }
}

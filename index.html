async function initApp() {
    document.getElementById('startBtn').style.display = 'none';
    const statusDiv = document.getElementById('status');
    statusDiv.innerText = "ðŸ§  WAKING UP AI...";
    
    try {
        // Force the browser to wait for the camera
        const constraints = { video: { facingMode: "user", width: { ideal: 640 }, height: { ideal: 480 } } };
        const stream = await navigator.mediaDevices.getUserMedia(constraints);
        
        document.getElementById('webcam').srcObject = stream;
        
        const classifier = new EdgeImpulseClassifier();
        await classifier.init();
        
        statusDiv.innerText = "âœ… WATCHING...";
        // ... (rest of the code remains the same)
    } catch (e) {
        statusDiv.innerText = "ðŸš« ACCESS DENIED";
        alert("Please tap the 'Lock' icon at the top and set Camera to 'ALLOW'.");
    }
}
